<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Category2Mapper">

	<insert id="registerCategory2" parameterType="category2VO">
		INSERT
		INTO category2(category2_id, name)
		VALUES(CATEGORY2_SEQ.NEXTVAL, name)	
	</insert>
	
	<delete id="deleteCategory2" parameterType="int">
		DELETE FROM category2 WHERE category2_id = #{VALUE}
	</delete>
	
	<update id="updateCategory2" parameterType="category2VO">
		UPDATE category2 SET
		name = #{name}
		WHERE category2_id = #{category2Id}
	</update>
	
	<select id="listAll">
		SELECT c2.category2_id, c2.category2_name, c1.category1_name
		FROM category1 c1, category2 c2
		WHERE c1.category_id = c2.category_id ORDER BY category2_id DESC
	</select>
	
	<select id="read" parameterType="int">
		SELECT c2.category2_id, c2.name, c1.category1_id, c1.name
		FROM category1 c1 INNER JOIN category2 c2
		ON c1.category1_id = c2.category1_id
		WHERE c2.category2_id = #{category2Id}
	</select>

</mapper>

















